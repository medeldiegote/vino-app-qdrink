{"version":3,"sources":["webpack:///src/app/configuracion/configuracion.page.html","webpack:///src/app/configuracion/configuracion-routing.module.ts","webpack:///src/app/configuracion/configuracion.module.ts","webpack:///src/app/configuracion/configuracion.page.scss","webpack:///src/app/configuracion/configuracion.page.ts"],"names":["routes","path","component","ConfiguracionPageRoutingModule","imports","forChild","exports","ConfiguracionPageModule","declarations","ConfiguracionPage","service","platform","cdr","router","actRoute","bluetoothSerial","keyboard","trama","estado","arreglo","precio","inputPrecio","sensibilidad","inputSensibilidad","errores","errores_array","lista","cerveza","updateSensibilidad","newSensibilidad","updatePrecio","newPrecio","ready","then","subscriptionTrama","tramaObservable$","subscribe","detectChanges","split","url","length","numToBit","navigate","subscriptionEstado","estadoObservable$","console","log","write","success","err","delay","value","error","hide","ms","Promise","resolve","setTimeout","cadena1","cadena2","cadena3","cadena","num","number","result","i","selector","template"],"mappings":"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","file":"configuracion-configuracion-module-es5.js","sourcesContent":["export default \"\\r\\n    <div >\\r\\n      <div class=\\\"row p-t-50 justify-content-center\\\">\\r\\n        <div class=\\\"col-md-10 bg-white card p-t-30 p-b-20 align-items-center m-b-20\\\">\\r\\n          <form [formGroup]=\\\"updatePrecio\\\" (ngSubmit)=\\\"setPrecio()\\\">\\r\\n\\r\\n            <div class=\\\"form-inline\\\">\\r\\n              <div class=\\\"form-group mb-2\\\">\\r\\n                <label class=\\\"bold\\\">Actual:{{precio}}</label>\\r\\n              </div>\\r\\n              <div class=\\\"form-group mx-sm-3 mb-2\\\">\\r\\n                <ion-input formControlName=\\\"newPrecio\\\" type='number' id=\\\"precioinput\\\" class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"valor nuevo\\\"></ion-input>\\r\\n              </div>\\r\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary mb-2\\\">SET</button>\\r\\n            </div>\\r\\n            <div class=\\\"fs-16 p-t-30\\\">Valor del precio por litro. Se espera un valor entero.</div>\\r\\n          </form>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-10 bg-white card p-t-30 p-b-20 align-items-center m-b-20\\\">\\r\\n          <form [formGroup]=\\\"updateSensibilidad\\\" (ngSubmit)=\\\"setSensibilidad()\\\">\\r\\n            <div class=\\\"form-inline\\\">\\r\\n\\r\\n              <div class=\\\"form-group mb-2\\\">\\r\\n                <label class=\\\"bold\\\">Actual: {{sensibilidad}}</label>\\r\\n              </div>\\r\\n              <div class=\\\"form-group mx-sm-3 mb-2\\\">\\r\\n                <ion-input type='number' formControlName=\\\"newSensibilidad\\\" class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"valor nuevo\\\">\\r\\n                </ion-input>\\r\\n              </div>\\r\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary mb-2\\\">SET</button>\\r\\n            </div>\\r\\n            <div class=\\\"fs-16 p-t-30\\\">Define la sensibilidad para detectar espuma. Valores entre 70 a 100</div>\\r\\n          </form>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-10 bg-white card p-t-30 p-b-20 align-items-center m-b-20\\\">\\r\\n          <form class=\\\"form-inline\\\">\\r\\n            <div class=\\\"form-group mx-sm-3 mb-2\\\">\\r\\n              <label class=\\\"bold\\\" *ngIf=\\\"cerveza==1\\\">Es cerveza</label>\\r\\n              <label class=\\\"bold\\\" *ngIf=\\\"cerveza==0\\\">No es cerveza</label>\\r\\n            </div>\\r\\n            <button (click)='setCerveza()' class=\\\"btn btn-primary mb-2\\\">SET</button>\\r\\n          </form>\\r\\n          <div class=\\\"fs-16 p-t-30\\\">\\r\\n            Enseña al sistema a diferenciar cerveza de espuma\\r\\n          </div>\\r\\n        </div>\\r\\n        <!--pico 2-->\\r\\n        <div class=\\\"col-md-10 bg-white card p-t-30 p-b-20 align-items-center m-b-20\\\">\\r\\n          <form [formGroup]=\\\"updatePrecio\\\" (ngSubmit)=\\\"setPrecio()\\\">\\r\\n\\r\\n            <div class=\\\"form-inline\\\">\\r\\n              <div class=\\\"form-group mb-2\\\">\\r\\n                <label class=\\\"bold\\\">Actual:{{precio}}</label>\\r\\n              </div>\\r\\n              <div class=\\\"form-group mx-sm-3 mb-2\\\">\\r\\n                <ion-input formControlName=\\\"newPrecio\\\" type='number' id=\\\"precioinput\\\" class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"valor nuevo\\\"></ion-input>\\r\\n              </div>\\r\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary mb-2\\\">SET</button>\\r\\n            </div>\\r\\n            <div class=\\\"fs-16 p-t-30\\\">Valor del precio por litro. Se espera un valor entero.</div>\\r\\n          </form>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-10 bg-white card p-t-30 p-b-20 align-items-center m-b-20\\\">\\r\\n          <form [formGroup]=\\\"updateSensibilidad\\\" (ngSubmit)=\\\"setSensibilidad()\\\">\\r\\n            <div class=\\\"form-inline\\\">\\r\\n\\r\\n              <div class=\\\"form-group mb-2\\\">\\r\\n                <label class=\\\"bold\\\">Actual: {{sensibilidad}}</label>\\r\\n              </div>\\r\\n              <div class=\\\"form-group mx-sm-3 mb-2\\\">\\r\\n                <ion-input type='number' formControlName=\\\"newSensibilidad\\\" class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"valor nuevo\\\">\\r\\n                </ion-input>\\r\\n              </div>\\r\\n              <button type=\\\"submit\\\" class=\\\"btn btn-primary mb-2\\\">SET</button>\\r\\n            </div>\\r\\n            <div class=\\\"fs-16 p-t-30\\\">Define la sensibilidad para detectar espuma. Valores entre 70 a 100</div>\\r\\n          </form>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-10 bg-white card p-t-30 p-b-20 align-items-center m-b-20\\\">\\r\\n          <form class=\\\"form-inline\\\">\\r\\n            <div class=\\\"form-group mx-sm-3 mb-2\\\">\\r\\n              <label class=\\\"bold\\\" *ngIf=\\\"cerveza==1\\\">Es cerveza</label>\\r\\n              <label class=\\\"bold\\\" *ngIf=\\\"cerveza==0\\\">No es cerveza</label>\\r\\n            </div>\\r\\n            <button (click)='setCerveza()' class=\\\"btn btn-primary mb-2\\\">SET</button>\\r\\n          </form>\\r\\n          <div class=\\\"fs-16 p-t-30\\\">\\r\\n            Enseña al sistema a diferenciar cerveza de espuma\\r\\n          </div>\\r\\n        </div>\\r\\n        <!---->\\r\\n        <div class=\\\"col-md-10 bg-white card p-t-20 p-b-20 align-items-center m-b-20\\\">\\r\\n          <div class=\\\"fs-30 p-t-10\\\">Errores</div>\\r\\n          <div class=\\\"fs-16 p-t-10\\\">{{lista}}</div>\\r\\n          <!--  <div class=\\\"fs-16 p-t-5\\\">-</div>\\r\\n          <div class=\\\"fs-16 p-t-5\\\">VERIFICAR QUE EL ERROR SEA 0</div> -->\\r\\n        </div>\\r\\n        <div class=\\\"col-md-8 p-t-15 p-b-50 align-items-center text-center\\\">\\r\\n          <a class=\\\"btn btn-primary btn-xl\\\" (click)=\\\"cerrar()\\\">TERMINAR</a>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  \\r\\n  <!-- Bootstrap core JS-->\\r\\n  <!--   <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\\\"></script>\\r\\n -->\\r\\n  <script src=\\\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js\\\"></script>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ConfiguracionPage } from './configuracion.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConfiguracionPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ConfiguracionPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConfiguracionPageRoutingModule } from './configuracion-routing.module';\r\n\r\nimport { ConfiguracionPage } from './configuracion.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    ConfiguracionPageRoutingModule\r\n  ],\r\n  declarations: [ConfiguracionPage]\r\n})\r\nexport class ConfiguracionPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbmZpZ3VyYWNpb24vY29uZmlndXJhY2lvbi5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { SerialService } from '../serial.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { NavController, Platform, ToastController } from '@ionic/angular';\r\nimport { ChangeDetectorRef } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\r\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-configuracion',\r\n  templateUrl: './configuracion.page.html',\r\n  styleUrls: ['./configuracion.page.scss'],\r\n})\r\nexport class ConfiguracionPage implements OnInit {\r\n\r\n  public subscriptionEstado: Subscription;\r\n  public subscriptionTrama: Subscription;\r\n\r\n  trama: string = ''\r\n  estado: string = ''\r\n  arreglo = [];\r\n  ///\r\n  precio: string = ''\r\n  inputPrecio: string = ''\r\n  sensibilidad: string = ''\r\n  inputSensibilidad: string = ''\r\n  errores: number = 0\r\n  errores_array = []\r\n  lista: string = ''\r\n  ///\r\n  cerveza = ''\r\n  //\r\n  updateSensibilidad: FormGroup;\r\n  updatePrecio: FormGroup;\r\n\r\n  constructor(\r\n    private service: SerialService,\r\n    public platform: Platform,\r\n    private cdr: ChangeDetectorRef,\r\n    private router: Router,\r\n    private actRoute: ActivatedRoute,\r\n    private bluetoothSerial: BluetoothSerial,\r\n    private keyboard: Keyboard\r\n  ) {\r\n    this.updateSensibilidad = new FormGroup({\r\n      newSensibilidad: new FormControl()\r\n    })\r\n    this.updatePrecio = new FormGroup({\r\n      newPrecio: new FormControl()\r\n    })\r\n\r\n    this.platform.ready().then(() => {\r\n\r\n\r\n      this.subscriptionTrama = service.tramaObservable$.subscribe((trama: string) => {\r\n        this.trama = trama\r\n        this.cdr.detectChanges();\r\n        this.arreglo = trama.split(':', 11)\r\n        // console.log(this.router.url)\r\n        if (this.router.url == '/configuracion' && this.arreglo.length == 11) {\r\n          this.lista = ''\r\n          if (this.arreglo[4] == '0')\r\n            this.lista = 'Sin errores'\r\n          else\r\n            this.errores_array = this.numToBit(this.arreglo[4])\r\n\r\n          this.precio = this.arreglo[8]\r\n          this.cerveza = this.arreglo[3]\r\n          //this.lista = this.arreglo[4]\r\n          this.sensibilidad = this.arreglo[10]\r\n          if (this.arreglo[7] == '0')\r\n            this.router.navigate(['/home'])\r\n        }/* else {\r\n          if (this.router.url == '/configuracion' && this.arreglo[4] == '0')\r\n            this.router.navigate(['/home'])\r\n        }*/\r\n      })\r\n      this.subscriptionEstado = service.estadoObservable$.subscribe((estado: string) => {\r\n        this.estado = estado\r\n        this.cdr.detectChanges();\r\n      })\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  setPrecio() {\r\n\r\n    (async () => {\r\n      // Do something before delay\r\n      console.log('before delay')\r\n      this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.arreglo[8] + \":0:0:1:\" + this.arreglo[10]).then(success => {\r\n\r\n      }, err => {\r\n        console.log(err)\r\n\r\n      })\r\n      await this.delay(500);\r\n\r\n      // Do something after\r\n      this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.updatePrecio.value.newPrecio + \":0:0:1:\" + this.arreglo[10]).then(success => {\r\n        console.log('SET PRECIO')\r\n      }, error => {\r\n      })\r\n      this.keyboard.hide();\r\n    })();\r\n    /*   console.log(this.inputPrecio)\r\n       this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.arreglo[1] + \":\" + this.arreglo[2] + \":\" + this.arreglo[3] + \":1:\" + this.arreglo[5]).then(success => {\r\n         this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.inputPrecio + \":\" + this.arreglo[2] + \":\" + this.arreglo[3] + \":1:\" + this.arreglo[5]).then(success => {\r\n           console.log('SET PRECIO')\r\n         }, error => {\r\n         })\r\n       }, err => {\r\n         console.log(err)\r\n   \r\n       })*/\r\n  }\r\n  setSensibilidad() {\r\n    (async () => {\r\n      // Do something before delay\r\n      console.log('before delay')\r\n      this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.arreglo[8] + \":0:0:1:\" + this.arreglo[10]).then(success => {\r\n\r\n      }, err => {\r\n        console.log(err)\r\n\r\n      })\r\n      await this.delay(500);\r\n\r\n      // Do something after\r\n      this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.arreglo[8] + \":0:0:1:\" + this.updateSensibilidad.value.newSensibilidad).then(success => {\r\n        console.log('SET Sensibilidad')\r\n      }, error => {\r\n      })\r\n      this.keyboard.hide();\r\n    }\r\n    )();\r\n  }\r\n  delay(ms: number) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n  setCerveza() {\r\n    (async () => {\r\n      // Do something before delay\r\n      console.log('before delay')\r\n      let cadena1 = this.arreglo[0] + \":\" + this.arreglo[8] + \":0:0:1:\" + this.arreglo[10];\r\n      let cadena2 = this.arreglo[0] + \":\" + this.arreglo[8] + \":0:1:1:\" + this.arreglo[10];\r\n      let cadena3 = this.arreglo[0] + \":\" + this.arreglo[8] + \":0:0:1:\" + this.arreglo[10];\r\n\r\n      this.bluetoothSerial.write(cadena1).then(success => {\r\n      }, err => {\r\n        console.log(err)\r\n\r\n      })\r\n      await this.delay(500);\r\n\r\n      // Do something after\r\n      this.bluetoothSerial.write(cadena2).then(success => {\r\n        console.log('SET CERVEZA 1')\r\n      }, error => {\r\n      })\r\n      await this.delay(500);\r\n      this.bluetoothSerial.write(cadena3).then(success => {\r\n        console.log('SET CERVEZA 0')\r\n      }, error => {\r\n      })\r\n    })();\r\n    console.log(this.inputPrecio)\r\n    /*   this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.arreglo[1] + \":\" + this.arreglo[2] + \":\" + this.arreglo[3] + \":1:\" + this.arreglo[5]).then(success => {\r\n         this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.arreglo[1] + \":\" + this.arreglo[2] + \":1:\" + this.arreglo[4] + \":\" + this.arreglo[5]).then(success => {\r\n           console.log('SET CERVEZA 1')\r\n           this.bluetoothSerial.write(this.arreglo[0] + \":\" + this.arreglo[1] + \":\" + this.arreglo[2] + \":0:\" + this.arreglo[4] + \":\" + this.arreglo[5]).then(success => {\r\n             console.log('SET CERVEZA 0')\r\n           }, error => {\r\n           })\r\n         }, error => {\r\n         })\r\n       }, err => {\r\n         console.log(err)\r\n   \r\n       })*/\r\n\r\n  }\r\n  async cerrar() {\r\n    var cadena = this.arreglo[0] + \":\" + this.arreglo[8] + \":0:0:0:\" + this.arreglo[10];\r\n\r\n    if (cadena.split(':', 6).length == 6) {\r\n      console.log('Cerrar configuracion: ' + cadena)\r\n      await this.bluetoothSerial.write(cadena).then(success => {\r\n        console.log('SALIR')\r\n        // this.router.navigate(['/home'])\r\n      }, error => {\r\n      })\r\n    }\r\n  }\r\n  numToBit(num) {\r\n    var number = num\r\n    var result = []\r\n    for (let i = 0; i < 6; i++)\r\n      result[i] = '0'\r\n\r\n    if (num >= 32) {\r\n      result[5] = '1'\r\n      num = num - 32\r\n      this.lista += \"Error de trama. \\n\"\r\n\r\n    }\r\n    if (num >= 16) {\r\n      result[4] = '1'\r\n      num = num - 16\r\n      this.lista += \"Sensibilidad de espuma no definida. \\n\"\r\n\r\n    }\r\n    if (num >= 8) {\r\n      result[3] = '1'\r\n      num = num - 8\r\n      this.lista += \"Salió del modo habilitación por exceso de espuma. \\n\"\r\n\r\n    }\r\n    if (num >= 4) {\r\n      result[2] = '1'\r\n      num = num - 4\r\n      this.lista += \"Sin definir precio por litro. \\n\"\r\n\r\n    }\r\n    if (num >= 2) {\r\n      result[1] = '1'\r\n      num = num - 2\r\n      this.lista += \"Intentó ingresar sin dinero. \\n\"\r\n\r\n    }\r\n    if (num >= 1) {\r\n      result[0] = '1'\r\n      num = num - 1\r\n      this.lista += \"No se usó la función set cerveza. \\n\"\r\n\r\n    }\r\n    return result\r\n  }\r\n}\r\n"]}